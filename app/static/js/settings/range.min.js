document.addEventListener("DOMContentLoaded", (() => {
    const e = new Map;
    document.querySelectorAll('input[type="range"][data-sync]').forEach((t => {
        const n = t.dataset.sync,
            a = document.querySelector(`input[type="number"][data-sync="${n}"]`);
        a && e.set(n, {
            r: t,
            n: a
        })
    }));
    e.forEach((({
        r: e,
        n: t
    }) => {
        const n = +e.min || 0,
            a = +e.max || 100,
            u = +e.step || 1;
        t.min || (t.min = e.min), t.max || (t.max = e.max), t.step || (t.step = e.step);
        const d = () => {
                t.value = e.value
            },
            r = () => {
                let d = "" === t.value ? n : Number(t.value);
                d = ((e, t) => Math.round(e / t) * t)(((e, t, n) => Math.min(n, Math.max(t, e)))(d, n, a), u), t.value = d, e.value = d
            };
        e.addEventListener("input", d), t.addEventListener("input", r), t.addEventListener("blur", r), d()
    }))
}));